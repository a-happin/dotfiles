# vim: set noexpandtab sw=0 :
[user]
	email = 10003601+a@users.noreply.github.com
	name = a_happin
[color]
	ui = auto
[core]
	editor = nvim
[log]
	decorate = short
[pull]
	ff = only
[push]
	default = upstream
[rebase]
	autosquash = true
[alias]
	a = add --patch
	aa = add --all
	alias = !git config --get-regexp ^alias\\. | sed 's/^alias\\.\\([^ ]*\\) /\\1\\\t => /'
	amend = commit --amend
	branch-mv = branch -m
	branch-name = symbolic-ref --short HEAD
	branches = !git branch -a | cut -c 3-
	conflict = diff --check
	conflict-files = diff --name-only --diff-filter=U
	d = diff
	delete-current-branch = !git detach && git branch -d @{-1} && :
	delete-merged-branch = !git merged | xargs git branch -d
	detach = checkout --detach
	diff-filename = diff --name-only
	diff-words = diff --color-words='\\w+|[^[:space:]]'
	discard-local-changes = reset --hard @{u}
	e = config --global -e
	feature = "!_() { [[ -n $1 ]] && git switch -c feature/$1; }; _"
	fixup = commit --fixup
	fomm = "!_() { set \"$@\" $(git master) ; set -x; git fetch origin $1:$1; }; _"
	fetch-prune = fetch --prune
	git = !git
	hash = rev-parse HEAD
	ignore = "!_() { for i in \"$@\" ; do echo \"$i\" >> \"${GIT_PREFIX}.gitignore\"; done; }; _"
	initial-commit = commit --allow-empty -m \"Initial commit.\"
	log-today = !git log --branches --since=midnight --date=iso --author=\"$(git config user.name)\"
	log-today-oneline = progress --pretty=format:%s
	master = !git config init.defaultBranch || echo master
	merged = !git branch --merged | grep -Ev '\\*|master|develop|release|gh-pages' | tr -d '^ '
	new = switch -c
	newtag = tag -a
	pr = pull --rebase origin develop
	pull-tags = pull --tags
	pushf = push --force-with-lease
	pushu = push -u origin HEAD
	reset-to-head = reset --hard HEAD
	reset-to-remote = reset --hard @{u}
	root = rev-parse --show-toplevel
	st = !git stash list && git status
	skip = update-index --skip-worktree
	staged = diff --cached
	stashes = stash list
	submodule-add-local = "!_() { git submodule add $(git -C $1 url) $1; }; _"
	submodule-deinit = "!_() { git submodule deinit -f $1; git rm -f ${GIT_PREFIX}$1; rm -rf .git/modules/$1; }; _"
	submodule-pull = submodule foreach git pull
	t = tree -10
	tags = tag
	touch = commit --amend --date=now --no-edit
	tree = log --graph --all --pretty=format:'%x09%C(auto)%h%d%C(reset) %C(cyan)-%C(reset) %s %C(blue)by %an%C(reset), %C(green)%ar%C(reset)'
	uncommit = reset --soft HEAD~
	unskip = update-index --no-skip-worktree
	unstage = reset HEAD --
	untrack = rm --cache --
	untracked = ls-files --others --exclude-standard
	url = config --get remote.origin.url
	wip = commit -m WIP
	zip = !git archive --worktree-attributes --format=zip HEAD -o $(basename `pwd`).zip

