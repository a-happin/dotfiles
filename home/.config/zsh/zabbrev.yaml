abbrevs:
  # normal abbreviation
  - abbr: 'q'
    snippet: 'exit'

  - abbr: 'e'
    snippet: '${EDITOR}'
    evaluate: true

  - abbr: 'g'
    snippet: 'git'

  - abbr: 'push'
    snippet: 'git push'

  - abbr: 'pushu'
    snippet: 'git push -u origin HEAD'

  - abbr: 'clone'
    snippet: 'git clone --depth 1 --recurse-submodules --shallow-submodules'

  - abbr: 'commit'
    snippet: 'git commit -v'

  - abbr: 'reload'
    snippet: 'exec zsh'

  - abbr: 'relogin'
    snippet: 'exec zsh -l'

  - abbr: 'la'
    snippet: 'ls -lah'

  - abbr: 'll'
    snippet: 'ls -lah'

  - abbr: '['
    snippet: '[[ 🐣 ]]'
    cursor: '🐣'

  - abbr: '[['
    snippet: '[[ 🐣 ]]'
    cursor: '🐣'

  # add default options
  - abbr: 'exa'
    snippet: 'exa -lah'

  - abbr: 'cp'
    snippet: 'cp -iv'

  - abbr: 'mv'
    snippet: 'mv -iv'

  - abbr: 'rm'
    snippet: 'rm -iv'

  - abbr: 'rr'
    snippet: 'rmdir'

  - abbr: 'rrf'
    snippet: 'rm -rf'

  - abbr: 'ln'
    snippet: 'ln -snfv FILE LINK'

  - abbr: 'rmlink'
    snippet: 'unlink'

  - abbr: 'mkdir'
    snippet: 'mkdir -p'

  - abbr: 'df'
    snippet: 'df -h'

  - abbr: 'du'
    snippet: 'du -h --max-depth 1'

  - abbr: 'fd'
    snippet: 'fd --hidden --no-ignore --exclude .git'

  - abbr: 'rg'
    snippet: "rg --hidden --no-ignore --glob '!.git'"

  - abbr: 'rsync'
    snippet: "rsync -avh --progress --delete --dry-run SRC_DIR/ DEST_DIR # Be careful with '/' at the end."

  - abbr: 'paccache'
    snippet: "paccache -r; paccache -ruk0; yay --aur -Sc"

  - abbr: 'g++'
    snippet: 'g++ -std=c++2b -Wall -Wextra -pedantic-errors -I./include -O2 -pipe'

  - abbr: 'clang++'
    snippet: 'clang++ -std=c++2b -Weverything -Wno-c++98-compat-pedantic -Wno-c11-extensions -pedantic-errors -I./include -O2 -pipe'

  - abbr: 'curl'
    snippet: 'curl -fsSL'

  # zsh
  - abbr: 'type'
    snippet: 'type -as'

  - abbr: 'historygrep'
    snippet: ' history 0 | grep'

  - abbr: 'historyedit'
    snippet: ' ${EDITOR} ${HISTFILE}'
    evaluate: true

  - context: 'zabbrev'
    abbr: 'update'
    snippet: 'cargo uninstall zabbrev; cargo install --path ~/work/zabbrev'
    operation: replace-all

  - context: 'zabbrev'
    abbr: 'config'
    snippet: '${EDITOR} ~/.config/zsh/zabbrev.yaml'
    operation: replace-all
    evaluate: true

  # prepend sudo
  - abbr: 'pacman'
    snippet: 'sudo'
    operation: prepend

  - abbr: 'apt'
    snippet: 'sudo'
    operation: prepend

  # prepend cd
  - abbr: '..'
    snippet: 'cd'
    operation: prepend

  # typo
  - abbr: ':q'
    snippet: 'exit'

  - abbr: 'vscode'
    snippet: 'code'

  - abbr: 'exho'
    snippet: 'echo'

  # fix options
  - context: 'rm -iv'
    abbr-suffix: ''
    snippet: rm $([[ -d $1 ]] && printf '%s' '-riv' || printf '%s' '-iv')
    operation: replace-context
    evaluate: true

  # subcommand
  - context: 'git'
    abbr: 'a'
    snippet: 'add --patch'

  - context: 'git'
    abbr: 'aa'
    snippet: 'add -v --all'

  - context: 'git'
    abbr: 'b'
    snippet: 'branch'

  - context: 'git'
    abbr: 'c'
    snippet: 'commit'

  - context: 'git'
    abbr: 't'
    snippet: 'tree -10'

  - context: 'git'
    abbr: 'cv'
    snippet: 'commit -v'

  - context: 'git'
    abbr: 'cm'
    snippet: 'commit -m'

  - context: 'git'
    abbr: 'co'
    snippet: 'checkout'

  - context: 'git'
    abbr: 'pu'
    snippet: 'push -u origin HEAD'

  - context: 'git'
    abbr: 'pr'
    snippet: 'pull --rebase origin $(git symbolic-ref --short HEAD)'
    evaluate: true

  - context: 'git'
    abbr: 's'
    snippet: 'stash list && git status'

  - context: 'git'
    abbr: 'd'
    snippet: 'diff'

  - context: 'git'
    abbr: 'f'
    snippet: 'fetch --prune'

  - context: 'git'
    abbr: 'amend'
    snippet: 'commit --amend'

  - context: 'git'
    abbr: 'touch'
    snippet: 'commit --amend --date=now --no-edit'

  - context: 'git'
    abbr: 'new'
    snippet: 'switch -c'

  - context: 'git'
    abbr: 'newtag'
    snippet: 'tag -a'

  - context: 'git'
    abbr: 'hash'
    snippet: 'rev-parse HEAD'

  - context: 'git'
    abbr: 'discard'
    snippet: 'reset --hard HEAD'

  - context: 'git'
    abbr: 'clean'
    snippet: 'clean -df'

  - context: 'git'
    abbr: 'initc'
    snippet: 'init && git commit --allow-empty -m "Initial commit."'

  - context: 'git'
    abbr: 'sw'
    snippet: 'switch $(fzf-git-branch)'
    evaluate: true

  - context: 'git'
    abbr: 'fomm'
    snippet: fetch origin $(local b=$(fzf-git-branch); printf '%s:%s' "$b" "$b")
    evaluate: true
    redraw: true

  - context: 'git'
    abbr: 'fixup'
    snippet: commit --fixup $(fzf-git-commit)
    evaluate: true
    redraw: true

  - context: 'git'
    abbr: 'pick'
    snippet: cherry-pick $(fzf-git-commit)
    evaluate: true
    redraw: true

  - context: 'git rebase'
    abbr: '-i'
    snippet: -i $(fzf-git-commit)
    evaluate: true
    redraw: true

  - context: 'git push'
    abbr: '-f'
    snippet: --force-with-lease
    global: true

  - context: 'git subtree add'
    abbr-regex: '^[^-]'
    snippet: '--prefix=$1 $1'
    evaluate: true

  - context: 'git subtree pull'
    abbr-regex: '^[^-]'
    snippet: '--prefix=$1 $1'
    evaluate: true

  - context: 'git subtree push'
    abbr-regex: '^[^-]'
    snippet: '--prefix=$1 $1'
    evaluate: true

  # external command
  - context: 'git'
    abbr: 'destroy'
    snippet: 'rm -rf .git'
    operation: replace-all

  - context: 'git'
    abbr: 'rg'
    snippet: "rg --hidden --glob '!.git'"
    operation: replace-all

  # global abbreviation
  - context: 'git'
    abbr: 'B'
    global: true
    snippet: $(fzf-git-branch)
    evaluate: true
    redraw: true

  - context: 'git'
    abbr: 'C'
    global: true
    snippet: $(fzf-git-commit)
    evaluate: true
    redraw: true

  # associated command(behaves like a suffix alias)
  - abbr-suffix: '.jar'
    snippet: 'java -jar'
    operation: prepend

  - abbr-suffix: '.cpp'
    snippet: 'chino -o /tmp/a.out $1 && /tmp/a.out'
    operation: replace-all
    evaluate: true

  - abbr-suffix: '.ts'
    snippet: 'deno run --allow-all --unstable'
    operation: prepend

  - abbr-suffix: '.bat'
    snippet: 'cmd.exe /c'
    operation: prepend

  - abbr-suffix: '.ps1'
    snippet: 'powershell.exe -NoLogo -NoProfile -ExecutionPolicy Bypass -File'
    operation: prepend

  # fake command
  - context: 'compile'
    abbr-suffix: '.cpp'
    snippet: 'chino'
    operation: replace-context

  # extract
  - context: 'extract'
    abbr-suffix: '.tar.bz2'
    snippet: 'tar -jxvf'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.tar.gz'
    snippet: 'tar -zxvf'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.tar.xz'
    snippet: 'tar -Jxvf'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.tbz2'
    snippet: 'tar -jxvf'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.tgz'
    snippet: 'tar -zxvf'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.tar'
    snippet: 'tar -xvf'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.bz2'
    snippet: 'bzip2 -dc'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.zip'
    snippet: 'unzip'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.rar'
    snippet: 'unrar x'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.gz'
    snippet: 'gzip -dc'
    operation: replace-context

  - context: 'extract'
    abbr-suffix: '.xz'
    snippet: 'xz -d'
    operation: replace-context

  - context: 'compress'
    abbr-suffix: '.tar.bz2'
    snippet: 'tar -jcvf'
    operation: replace-context

  # compress
  - context: 'compress'
    abbr-suffix: '.tar.gz'
    snippet: 'tar -zcvf'
    operation: replace-context

  - context: 'compress'
    abbr-suffix: '.tar.xz'
    snippet: 'tar -Jcvf'
    operation: replace-context

  - context: 'compress'
    abbr-suffix: '.tbz2'
    snippet: 'tar -jcvf'
    operation: replace-context

  - context: 'compress'
    abbr-suffix: '.tgz'
    snippet: 'tar -zcvf'
    operation: replace-context

  - context: 'compress'
    abbr-suffix: '.tar'
    snippet: 'tar -cvf'
    operation: replace-context

  - context: 'compress'
    abbr-suffix: '.zip'
    snippet: 'zip -r'
    operation: replace-context

  - context: 'compress'
    abbr-suffix: '.rar'
    snippet: 'rar a'
    operation: replace-context

  # minecraft gameoutput
  - context: ''
    abbr: 'gameoutput'
    snippet: 'less +F ../../../logs/latest.log'

  # like a function
  - context: 'my-ssh-keygen'
    abbr-prefix: ''
    snippet: mkdir -p ~/.ssh/$1 && chmod 700 ~/.ssh/$1 && ssh-keygen -t ed25519 -f ~/.ssh/$1/id_ed25519 -N ''
    operation: replace-all
    evaluate: true

  - context: 'mkdircd'
    abbr-prefix: ''
    snippet: 'mkdir -p $1 && cd $1'
    operation: replace-all
    evaluate: true

  - context: 'trash'
    abbr-prefix: ''
    snippet: 'mkdir -p /tmp/trash; mv -fv $1 /tmp/trash'
    operation: replace-all
    evaluate: true

  # global abbreviation
  - abbr: '>null'
    snippet: '>/dev/null 2>&1'
    global: true

  # as one pleases
  - context: 'cd'
    abbr: 'f'
    snippet: $(fzf-directory)
    evaluate: true
    redraw: true

  - context: 'cd'
    abbr: 'g'
    snippet: $(fzf-git-repository)
    evaluate: true
    redraw: true

  - context: ''
    abbr-suffix: ':coffee:'
    snippet: ${1%:coffee:}☕
    global: true
    evaluate: true

